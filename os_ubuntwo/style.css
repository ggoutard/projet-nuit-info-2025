/* ===========================
   Web Desktop ‚Äî Style complet
   Th√®me sombre Ubuntu-like
   =========================== */

:root{
  --bg:#1f1f24;
  --panel:#2a2d32;
  --panel-2:#202227;

  --accent:#E95420;      /* Ubuntu orange */
  --accent-2:#77216F;    /* Ubuntu aubergine */

  --text:#e9eaec;
  --text-dim:#b9bcc3;

  --win:#2d3036;
  --win-header:#3a3e45;

  --border:#00000040;
  --border-strong:#00000060;
  --shadow:#00000070;

  --success:#4caf50;
  --warning:#ffb300;
  --danger:#e53935;

  --radius-sm:8px;
  --radius:12px;
  --radius-lg:16px;

  --blur:6px;
  --elev-1:0 10px 24px rgba(0,0,0,.35);
  --elev-2:0 18px 40px rgba(0,0,0,.44);
  --elev-3:0 26px 56px rgba(0,0,0,.56);
}

/* Reset & base */
*{box-sizing:border-box}
html,body{
  height:100%;margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
}
img,svg{display:block;max-width:100%}

/* Fond d‚Äô√©cran: gradient profond */
body::before{
  content: "";
  position: fixed;
  inset: 0;
  background-image:
    linear-gradient(rgba(8,10,12,0.55), rgba(8,10,12,0.55)),
    var(--wallpaper-url),
    radial-gradient(1100px 780px at 80% 20%, #3b1a0f 0%, #26282d 45%, #1f2126 100%);
  background-repeat: no-repeat, no-repeat, no-repeat;
  background-position: center center, center center, 80% 20%;
  background-size: cover, cover, cover;
  opacity: 0.95;
  pointer-events: none;
  z-index: -1;
}



/* Liens et focus */
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
:focus-visible{outline:2px solid var(--accent);outline-offset:3px}

/* Utilitaires */
.hidden{display:none !important}
.muted{color:var(--text-dim)}
.round{border-radius:var(--radius)}
.center{display:grid;place-items:center}

/* ----------------------
   Barre du haut (Topbar)
   ---------------------- */
.topbar{
  position:fixed; top:0; left:0; right:0; height:44px;
  background:linear-gradient(to bottom,var(--panel),var(--panel-2));
  border-bottom:1px solid var(--border);
  display:grid; grid-template-columns: 220px 1fr 260px; align-items:center;
  padding:0 10px; z-index:1000;
}
.top-left{display:flex; align-items:center; gap:10px}
.brand{
  width:22px;height:22px;border-radius:50%;
  background: conic-gradient(from 180deg,var(--accent),var(--accent-2),var(--accent));
  box-shadow:0 0 0 2px #00000030;
}
.menu{display:flex; gap:12px; font-weight:600}
.menu span{color:var(--text-dim); cursor:default}
.menu span.active{color:var(--text)}
.top-center{justify-self:center; color:var(--text-dim); font-size:14px}
/* Assure la m√™me taille, alignement et jauge visuelle */
.top-right .chip{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--border, #00000040);
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.12));
  color:var(--text, #e9eaec);
  box-shadow:0 6px 16px rgba(0,0,0,0.45);
  backdrop-filter: blur(6px);
  font-size:12px;
  font-weight:700;
  min-height:28px;
  line-height:1;
  transition: transform .18s, box-shadow .18s, filter .18s;
}

/* Variante r√©seau : m√™me dimensions, couleur adapt√©e */
.top-right .chip.network{
  --accent: #66d38b;
  --accent-2:#2e7d32;
  border-color: rgba(46,125,50,0.18);
  background: linear-gradient(180deg, rgba(102,211,139,0.08), rgba(0,0,0,0.08));
  color:var(--text);
}

/* Hover / focus */
.top-right .chip:hover{ transform:translateY(-2px); filter:brightness(1.06) }
.top-right .chip:focus{ outline:2px solid var(--accent, #66d38b); outline-offset:2px }

/* Si tu veux forcer largeur identique */
.top-right .chip.fixed-width{ min-width:86px; justify-content:center }


/* Chip de statut ‚Äî pill glassmorphism */
.chip{
  --bg: rgba(43,47,54,0.6);
  --border: var(--border, #00000040);
  --fg: var(--text, #e9eaec);
  --pad-y: 6px; --pad-x: 10px;

  position:relative;
  display:inline-flex; align-items:center; gap:8px;
  padding: var(--pad-y) var(--pad-x);
  border-radius:999px;
  border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.14));
  color: var(--fg);
  box-shadow: 0 6px 16px rgba(0,0,0,.45);
  backdrop-filter: blur(6px);
  font-size:12px; font-weight:700;
  line-height:1;
  transition: transform .18s, box-shadow .18s, filter .18s, background .18s;
}

/* Effets interaction */
.chip:hover{ transform: translateY(-2px); filter: brightness(1.06); box-shadow: 0 10px 22px rgba(0,0,0,.55) }
.chip:active{ transform: scale(.98); box-shadow: inset 2px 2px 6px rgba(0,0,0,.55) }
.chip:focus-visible{ outline:2px solid var(--accent, #E95420); outline-offset:2px }

/* Ic√¥ne + texte align√©s (les emojis servent d‚Äôic√¥nes) */
.chip::first-letter{ font-size:14px }

/* Micro‚Äëjauge de niveau pour les 1er (volume) et 3e (batterie) chips */
.top-right .chip:nth-child(1)::after,
.top-right .chip:nth-child(3)::after{
  content:"";
  position:absolute; inset:0;
  border-radius:inherit;
  background: linear-gradient(90deg, var(--accent, #E95420), var(--accent-2, #77216F));
  opacity:.18;
  /* Par d√©faut: 65% pour le volume (chip 1) et 82% pour la batterie (chip 3) */
  width: calc(var(--level, 0%) );
  clip-path: inset(0 0 0 0 round 999px);
}

/* Valeurs par d√©faut correspondant √† ton contenu actuel */
.top-right .chip:nth-child(1){ --level: 65% }  /* üîà 65% */
.top-right .chip:nth-child(3){ --level: 82% }  /* üîã 82% */

/* Variantes visuelles par position (couleurs) */
.top-right .chip:nth-child(1){ /* Volume */
  --accent:#4db6ff; --accent-2:#1f6feb;
}
.top-right .chip:nth-child(2){ /* R√©seau */
  border-color:#2e7d32;
  background: linear-gradient(180deg, rgba(102,211,139,.18), rgba(0,0,0,.12));
}
.top-right .chip:nth-child(3){ /* Batterie */
  --accent:#ffd166; --accent-2:#ff9f1a;
}
.top-right .chip:nth-child(4){ /* Param√®tres */
  border-color:#8e6ca9;
  background: linear-gradient(180deg, rgba(119,33,111,.20), rgba(0,0,0,.12));
}

/* Version compacte (si besoin) */
.chip.compact{ --pad-y:4px; --pad-x:8px; font-size:11px }



/* -------------
   Dock lat√©ral
   ------------- */
.dock{
  position:fixed; top:56px; left:14px; bottom:14px; width:72px;
  background:#1b1d22cc; backdrop-filter: blur(var(--blur));
  border:1px solid var(--border); border-radius:14px; padding:10px 8px;
  display:flex; flex-direction:column; align-items:center; gap:12px; z-index:900;
  box-shadow:var(--elev-1);
}
.app{
  width:50px; height:50px; border-radius:12px;
  background:#2b2f36; border:1px solid var(--border-strong); color:#fff; font-size:22px;
  display:grid; place-items:center; cursor:pointer; position:relative;
  transition:transform .18s, filter .18s, box-shadow .18s, background .18s;
  box-shadow: 4px 4px 8px rgba(0,0,0,0.6), -4px -4px 8px rgba(255,255,255,0.04);
}
.app:hover{transform:translateY(-4px); filter:brightness(1.06); background:#343942; box-shadow:var(--elev-1)}
.app:active{transform:scale(.96); box-shadow:inset 2px 2px 6px rgba(0,0,0,.55), inset -2px -2px 6px rgba(255,255,255,.05)}
.app .dot{
  position:absolute; bottom:-4px; left:50%; transform:translateX(-50%);
  width:6px; height:6px; border-radius:50%; background:var(--accent)
}

/* ---------------
   Bureau + fen√™tres
   --------------- */
.desktop{position:fixed; inset:56px 0 0 0; padding:18px 18px 18px 110px}

.window{
  position:absolute; top:120px; left:160px; width:760px; min-width:420px; min-height:280px;
  background:var(--win); border:1px solid var(--border); border-radius:var(--radius);
  box-shadow:var(--elev-2); overflow:hidden; resize:both;
}
.window.active{box-shadow:var(--elev-3)}
.titlebar{
  height:44px; background:linear-gradient(to bottom,#474c54,var(--win-header));
  display:grid; grid-template-columns: 1fr auto; align-items:center; padding:0 10px;
  cursor:move; border-bottom:1px solid #00000030;
}
.win-title{font-weight:700; color:var(--text); letter-spacing:.2px}
.controls{display:flex; align-items:center; gap:8px}

.window-content{display:grid; grid-template-columns: 240px 1fr; min-height:220px}
.sidebar{background:#2a2f35; border-right:1px solid var(--border); padding:10px}
.side-title{font-size:12px; color:var(--text-dim); margin:8px 6px; text-transform:uppercase; letter-spacing:.6px}
.side-item{display:flex; align-items:center; gap:10px; padding:8px 10px; border-radius:8px; cursor:pointer; color:var(--text-dim)}
.side-item.active{background:#3b414a; color:var(--text)}
.side-item:hover{background:#343a43; color:var(--text)}
.side-icon{width:22px; height:22px; display:grid; place-items:center; font-size:16px}

.content{background:#262a31; padding:14px}
.toolbar{display:flex; gap:10px; align-items:center; margin-bottom:12px}

/* -------------------------
   Boutons esth√©tiques (UI)
   ------------------------- */
button,
.btn,
.tool,
.ctrl{
  border:none;
  border-radius:10px;
  font-size:14px;
  font-weight:600;
  color:var(--text);
  background:linear-gradient(145deg, #2f343c, #24272d);
  box-shadow:4px 4px 8px rgba(0,0,0,0.6), -4px -4px 8px rgba(255,255,255,0.05);
  cursor:pointer;
  transition:transform .22s, box-shadow .22s, filter .22s, background .22s;
}




button:hover,
.btn:hover,
.tool:hover,
.ctrl:hover{
  transform:translateY(-2px);
  box-shadow:6px 6px 12px rgba(0,0,0,0.7), -6px -6px 12px rgba(255,255,255,0.08);
  filter:brightness(1.08);
}

button:active,
.btn:active,
.tool:active,
.ctrl:active{
  transform:scale(.96);
  box-shadow:inset 2px 2px 6px rgba(0,0,0,0.6), inset -2px -2px 6px rgba(255,255,255,0.05);
}

/* Variantes */
.tool{background:#3b4048; border:1px solid var(--border); color:var(--text)}
.tool.primary{background:linear-gradient(145deg, var(--accent), #d24a1a); color:#fff}
.tool.secondary{background:linear-gradient(145deg, var(--accent-2), #5a4a66); color:#fff}

.ctrl{width:32px; height:28px; border-radius:8px; display:grid; place-items:center; font-size:13px}
.ctrl.close{background:linear-gradient(145deg, var(--danger), #b71c1c); color:#fff}
.ctrl.min{background:linear-gradient(145deg, var(--warning), #f57c00); color:#fff}
.ctrl.max{background:linear-gradient(145deg, var(--success), #2e7d32); color:#fff}

.btn{background:#3b4048; border:1px solid var(--border-strong); color:#eaecef; font-size:15px}
.btn.op{background:linear-gradient(145deg, var(--accent-2), #5a4a66); color:#fff}
.btn.eq{background:linear-gradient(145deg, #1f6feb, #174ea6); color:#fff}

/* ----------------
   Grilles & cartes
   ---------------- */
.grid{display:grid; grid-template-columns:repeat(4,1fr); gap:12px}
.card{
  background:#2f343c; border:1px solid var(--border); border-radius:10px; padding:12px;
  transition:transform .18s, box-shadow .18s, filter .18s;
}
.card:hover{transform:translateY(-2px); filter:brightness(1.04); box-shadow:var(--elev-1)}
.card .name{font-weight:600; margin-bottom:6px}
.card .meta{color:var(--text-dim); font-size:12px}

/* ------
   Notes
   ------ */
textarea.note{
  width:100%; height:280px; background:#181a1f; color:#f3f4f6; border:1px solid var(--border-strong);
  border-radius:8px; padding:10px; resize:none;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
}
.note-actions{display:flex; gap:8px; margin-top:10px}

/* ---------
   Terminal
   --------- */
.terminal{
  background:#0d1117; color:#c9d1d9; border:1px solid var(--border-strong);
  border-radius:8px; padding:10px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  height:280px; overflow:auto;
  box-shadow:var(--elev-1);
}
.prompt{color:#8bc34a}
.input-line{
  width:100%; background:#010409; color:#8bc34a; border:1px solid var(--border-strong);
  border-radius:8px; padding:8px; font-family:inherit; margin-top:8px;
}

/* ----------
   Navigateur
   ---------- */
/* Ajoute ces r√®gles √† ton style.css */
.browser-content{
  display:flex;
  flex-direction:column;
  min-height:0;
  padding:12px;
}

.browser-bar{
  display:flex;
  gap:8px;
  align-items:center;
  flex:0 0 auto;
  margin-bottom:10px;
}

.url{
  flex:1;
  padding:8px;
  border-radius:8px;
  border:1px solid var(--border-strong);
  background:#1c1f24;
  color:var(--text);
}

.iframe-wrap{
  flex:1 1 auto;
  min-height:0;
  position:relative;
}

.frame{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border:none;
  border-radius:8px;
  background:#fff;
  box-shadow:var(--elev-1);
  transition: filter .25s ease, transform .25s ease, opacity .18s;
  transform-origin:center center;
}

/* Flou activ√© */
.frame.blurred{
  filter: blur(6px) brightness(.95);
  transform: scale(1.02);
}

/* Indicateur de chargement simple */
#loader{
  transition: background-color .18s, transform .18s;
}
#loader.loading{
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  box-shadow: 0 6px 14px rgba(0,0,0,.45);
  transform: scale(1.2);
}

/* Maximisation : utilise ton syst√®me existant data-max */
.window[data-max="1"]{
  left:20px !important;
  top:64px !important;
  width: calc(100% - 40px) !important;
  height: calc(100% - 140px) !important;
  position: fixed !important;
  z-index: 9999 !important;
}
.window[data-max="1"] .frame{
  border-radius:10px;
}




/* ------------
   Calculatrice
   ------------ */
.calc-wrap{display:grid; grid-template-columns:1fr; gap:12px}
.calc-display{
  width:100%; font-size:22px; padding:10px; border-radius:8px;
  border:1px solid var(--border-strong); background:#1c1f24; color:#eaecef;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
}
.calc-grid{display:grid; grid-template-columns:repeat(4,1fr); gap:8px}

/* --------------------------
   Tooltips & √©tats visuels
   -------------------------- */
.is-active{outline:2px solid var(--accent)}
.is-warning{outline:2px solid var(--warning)}
.is-danger{outline:2px solid var(--danger)}

[title]{position:relative}
[title]:hover::after{
  content:attr(title);
  position:absolute; bottom:100%; left:50%; transform:translateX(-50%);
  background:#2b2f36; color:var(--text); border:1px solid var(--border);
  padding:6px 8px; border-radius:8px; font-size:12px; white-space:nowrap;
  box-shadow:var(--elev-1); pointer-events:none;
}

/* ---------------------
   Transitions globales
   --------------------- */
*{transition:background-color .18s, color .18s, border-color .18s}

/* -----------------------------
   Responsivit√© & pr√©f√©rences
   ----------------------------- */
@media (max-width:900px){
  .desktop{padding:14px}
  .window{width:calc(100% - 40px); left:20px}
  .window-content{grid-template-columns:1fr}
  .dock{left:10px; width:68px}
  .grid{grid-template-columns:repeat(2,1fr)}
}
@media (prefers-reduced-motion:reduce){
  *{transition:none !important; animation:none !important}
}


/* Groupe avec espacement */
.status-group{
  display:flex; align-items:center; gap:10px;
}

/* Bouton pill avec glassmorphism + barre de niveau */
.status-btn{
  --bg: #2b2f36;
  --border: var(--border-strong);
  --fg: var(--text);
  --glow: rgba(0,0,0,.45);

  position:relative;
  display:flex; align-items:center; gap:8px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.12));
  color: var(--fg);
  box-shadow: 0 6px 16px var(--glow);
  backdrop-filter: blur(6px);
  cursor:pointer;
  transition: transform .18s, box-shadow .18s, filter .18s, background .18s;
  min-height:28px;
}

/* Micro-barre de niveau dans le fond du bouton */
.status-btn::after{
  content:"";
  position:absolute; inset:0;
  border-radius:inherit;
  background:
    linear-gradient(90deg, var(--accent), var(--accent-2));
  opacity:.18;
  width: var(--level, 0%);
  /* Ancre √† gauche pour simuler une jauge */
  clip-path: inset(0 0 0 0 round 999px);
}

/* Contenu interne */
.status-ico{font-size:16px; line-height:1}
.status-text{font-size:12px; color: var(--text-dim); font-weight:700}

/* Hover, active, focus */
.status-btn:hover{ transform: translateY(-2px); filter:brightness(1.06); box-shadow: 0 10px 22px rgba(0,0,0,.55) }
.status-btn:active{ transform: scale(.97); box-shadow: inset 2px 2px 6px rgba(0,0,0,.55) }
.status-btn:focus-visible{ outline: 2px solid var(--accent); outline-offset: 2px }

/* Variantes par type (couleurs et lisibilit√©) */
.status--volume{
  --accent: #4db6ff; /* bleu clair */
  --accent-2: #1f6feb;
}
.status--net{
  --accent: #66d38b; /* vert r√©seau */
  --accent-2: #2e7d32;
}
.status--battery{
  --accent: #ffd166; /* jaune batterie */
  --accent-2: #ff9f1a;
}

/* √âtats bas√©s sur le niveau: low <30%, warn <50%, ok >=50% */
.status--battery.low,
.status--volume.low{ border-color: #e53935; }
.status--battery.warn,
.status--volume.warn{ border-color: #ffb300; }
.status--battery.ok,
.status--volume.ok{ border-color: var(--border-strong); }

/* Compact si tu veux les r√©duire */
.status-btn.compact{ padding:4px 8px; min-height:24px }
.status-btn.compact .status-text{ font-size:11px }
